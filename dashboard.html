<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Controle de Assistência</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <div id="sidebar" class="sidebar">
        <h2>Menu</h2>
        <nav>
            <a href="dashboard.html" class="active">Painel de Controle</a>
            <a href="registrar.html">Registrar Venda</a>
            <a href="entrada.html">Entrada Avulsa de Reparo</a>
            <a href="atendimentos.html">Atendimentos Ativos</a>
            <a href="visitas.html">Aguardando Visita Técnica</a>
            <a href="remoto.html">Atendimento Remoto</a>
            <a href="cursos.html">Cursos e Eventos</a>
            <a href="garantia.html">Itens na Garantia</a>
            <a href="acaminho.html">Aparelhos a Caminho</a>
            <a href="historico.html">Histórico Geral (O.S.)</a>
            <a href="clientes.html">Lista de Clientes</a>
            <a href="estoque.html">Estoque</a>
            <a href="financeiro.html">Financeiro</a>
            <a href="financeiro.html">Financeiro</a>
        </nav>
        <div class="user-info">
            <span id="userEmail"></span>
            <button id="logoutButton">Sair</button>
        </div>
    </div>

    <div class="main-content">
        <header>
            <button id="menu-toggle">☰</button>
            <h1>Visão Geral da Assistência</h1>
        </header>
        
        <!-- A ÚNICA MUDANÇA ESTÁ AQUI DENTRO -->
        <div class="dashboard-grid">
            <a href="atendimentos.html?status=Pendente" class="card-link">
                <div class="card color-blue"><h3>Pendentes</h3><div class="card-number" id="stat-pendentes">0</div></div>
            </a>
            <a href="atendimentos.html?status=Aguardando Orçamento" class="card-link">
                <div class="card color-orange"><h3>Aguardando Orçamento</h3><div class="card-number" id="stat-orcamento">0</div></div>
            </a>
            <a href="atendimentos.html?status=Aguardando Peças" class="card-link">
                <div class="card color-purple"><h3>Aguardando Peças</h3><div class="card-number" id="stat-aguardando-pecas">0</div></div>
            </a>
            <a href="atendimentos.html?status=Em Manutenção" class="card-link">
                <div class="card color-teal"><h3>Em Manutenção</h3><div class="card-number" id="stat-em-manutencao">0</div></div>
            </a>
            <a href="atendimentos.html?status=Pronto para Retirada" class="card-link">
                <div class="card color-green"><h3>Aparelhos Prontos</h3><div class="card-number" id="stat-prontos">0</div></div>
            </a>
            <a href="atendimentos.html?status=Reprovado - Aguardando Devolução" class="card-link">
                <div class="card color-red"><h3>Reprovados Esperando Devolução</h3><div class="card-number" id="stat-reprovados">0</div></div>
            </a>
            <a href="visitas.html" class="card-link">
                <div class="card color-yellow"><h3>Aguardando Visita Técnica</h3><div class="card-number" id="stat-visita">0</div></div>
            </a>
            <a href="acaminho.html" class="card-link">
                <div class="card color-pink"><h3>Aparelhos a Caminho</h3><div class="card-number" id="stat-a-caminho">0</div></div>
            </a>
            <!-- O card de Tempo Médio não é um link -->
            <div class="card color-dark-gray"><h3>Tempo Médio de Reparo</h3><div class="card-number" id="stat-tempo-medio">0 dias</div></div>
        </div>
    </div>
    <div id="overlay" class="overlay"></div>

    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
    <script src="auth.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>